---
import Layout from '../layouts/Layout.astro';
// Import Swiper styles
import 'swiper/css';
import 'swiper/css/navigation'; // If using navigation buttons
import 'swiper/css/pagination'; // If using pagination dots
import 'swiper/css/effect-coverflow'; // Import coverflow effect CSS

// JS Imports moved to the client-side script below
---

<Layout title="Accueil">
	<h1>SOS-PC</h1>
	<p class="tagline">Votre partenaire pour des solutions informatiques et web personnalis√©es.</p>

	<section id="about">
		<h2>√Ä Propos de SOS-PC</h2>
		<p>
			SOS-PC, dirig√© par un auto-entrepreneur passionn√©, propose une gamme compl√®te de services pour r√©pondre √† vos besoins technologiques. Notre objectif est d'offrir des solutions fiables, performantes et adapt√©es, que ce soit pour les particuliers ou les professionnels.
		</p>
	</section>

	<section id="services" class="cta-section">
		<h2>D√©couvrez Nos Solutions</h2>
		<p class="services-intro">Que vous ayez besoin d'une r√©paration, d'un nouveau site web ou d'une solution d'h√©bergement sp√©cifique, nous avons l'expertise qu'il vous faut.</p>

		<div class="service-cards">
			<article class="service-card">
				<img src="https://via.placeholder.com/300x150.png?text=R√©paration+PC" alt="R√©paration Informatique" class="service-card-image">
				<h3><i class="icon-repair"></i> R√©paration Informatique</h3>
				<p>
					D√©pannage, montage sur mesure, optimisation. Nous redonnons vie √† votre mat√©riel.
				</p>
				<ul>
					<li>Diagnostic et d√©pannage</li>
					<li>Remplacement de composants</li>
					<li>Montage PC personnalis√©</li>
					<li>Optimisation & R√©cup√©ration</li>
				</ul>
				<a href="#contact" class="cta-button">Demander un devis</a>
			</article>

			<article class="service-card">
				<img src="https://via.placeholder.com/300x150.png?text=Site+Web" alt="Cr√©ation de Site Web" class="service-card-image">
				<h3><i class="icon-web"></i> Cr√©ation de Sites Web</h3>
				<p>
					Sites vitrines modernes, responsives et optimis√©s pour votre pr√©sence en ligne.
				</p>
				<ul>
					<li>Sites vitrines pro</li>
					<li>Design responsive</li>
					<li>SEO de base inclus</li>
					<li>Fonctionnalit√©s sur mesure</li>
				</ul>
				<a href="#contact" class="cta-button">Discutons de votre projet</a>
			</article>

			<article class="service-card">
				<img src="https://via.placeholder.com/300x150.png?text=Streaming+Media" alt="H√©bergement Streaming" class="service-card-image">
				<h3><i class="icon-stream"></i> H√©bergement Streaming</h3>
				<p>
					Votre propre plateforme m√©dia (Jellyfin, etc.) accessible partout, en toute s√©curit√©.
				</p>
				<ul>
					<li>Installation Jellyfin/similaires</li>
					<li>Conseils mat√©riel/serveur</li>
					<li>Acc√®s s√©curis√©</li>
					<li>Maintenance de base</li>
				</ul>
				<a href="#contact" class="cta-button">En savoir plus</a>
			</article>

			<article class="service-card">
				<img src="https://via.placeholder.com/300x150.png?text=Mod√®le+IA" alt="H√©bergement Mod√®les IA" class="service-card-image">
				<h3><i class="icon-ai"></i> H√©bergement Mod√®les IA</h3>
				<p>
					D√©ployez et g√©rez vos mod√®les d'IA pour explorer leur potentiel. (Service en d√©veloppement).
				</p>
				<ul>
					<li>Conseils h√©bergement</li>
					<li>Aide au d√©ploiement</li>
					<li>Gestion infrastructure</li>
					<li>Contactez-nous pour discuter</li>
				</ul>
				<a href="#contact" class="cta-button">Contactez-nous</a>
			</article>
		</div>
	</section>

	<!-- Location/Map Section -->
	<section id="location" class="map-section">
		<h2>Notre Zone d'Intervention Principale</h2>
		<p>Bas√© pr√®s de 04700 Le Castellet, nous intervenons dans les environs.</p>
		<div class="map-container">
			<iframe
				width="100%"
				height="300"
				frameborder="0"
				scrolling="no"
				marginheight="0"
				marginwidth="0"
				src="https://www.openstreetmap.org/export/embed.html?bbox=5.755,43.843,5.795,43.863&layer=mapnik&marker=43.853,5.775"
				style="border: 1px solid black; border-radius: 8px;"
				title="Carte de localisation SOS-PC"
			></iframe>
			<br/>
			<small>
				<a href="https://www.openstreetmap.org/?mlat=43.853&mlon=5.775#map=15/43.853/5.775" target="_blank">Voir une carte plus grande</a>
			</small>
		</div>
	</section>

	<!-- Vitrine Section - Now a Coverflow Carousel -->
	<section id="vitrine">
		<h2>Notre Vitrine Web</h2>
		<p class="vitrine-intro">Quelques exemples de sites web que nous avons r√©alis√©s.</p>

		<!-- Swiper Container -->
		<div class="swiper vitrine-swiper">
			<div class="swiper-wrapper">
				<!-- Slide 1 -->
				<div class="swiper-slide">
					<article class="vitrine-item">
						<img src="https://via.placeholder.com/400x250.png?text=Site+Artisan" alt="Aper√ßu Site Artisan" class="vitrine-image">
						<div class="vitrine-content">
							<h3>Site Vitrine pour Artisan</h3>
							<p>Cr√©ation d'un site web moderne et responsive pour un artisan local, mettant en valeur ses services et r√©alisations.</p>
							<a href="#" target="_blank" rel="noopener noreferrer" class="vitrine-link">Voir le site</a>
						</div>
					</article>
				</div>
				<!-- Slide 2 -->
				<div class="swiper-slide">
					<article class="vitrine-item">
						<img src="https://via.placeholder.com/400x250.png?text=Site+Restaurant" alt="Aper√ßu Site Restaurant" class="vitrine-image">
						<div class="vitrine-content">
							<h3>Site Web pour Restaurant</h3>
							<p>D√©veloppement d'un site avec menu en ligne, galerie photos et formulaire de r√©servation.</p>
							<a href="#" target="_blank" rel="noopener noreferrer" class="vitrine-link">Voir le site</a>
						</div>
					</article>
				</div>
				<!-- Slide 3 -->
				<div class="swiper-slide">
					<article class="vitrine-item">
						<img src="https://via.placeholder.com/400x250.png?text=Portfolio+Photographe" alt="Aper√ßu Portfolio Photographe" class="vitrine-image">
						<div class="vitrine-content">
							<h3>Portfolio en Ligne</h3>
							<p>Mise en place d'un portfolio √©l√©gant pour un photographe, optimis√© pour l'affichage d'images haute r√©solution.</p>
							<a href="#" target="_blank" rel="noopener noreferrer" class="vitrine-link">Voir le site</a>
						</div>
					</article>
				</div>
				<!-- Slide 4: New Slide -->
				<div class="swiper-slide">
					<article class="vitrine-item">
						<!-- Replace this src with an actual screenshot URL -->
						<img src="https://via.placeholder.com/400x250.png?text=Aper√ßu+Bolt+DIY+2" alt="Aper√ßu Projet Bolt DIY 2" class="vitrine-image">
						<div class="vitrine-content">
							<h3>Projet Bolt DIY 2</h3>
							<p>Un exemple de site web interactif cr√©√© avec Bolt.</p>
							<a href="https://bolt-diy-2-1746478852874.netlify.app/" target="_blank" rel="noopener noreferrer" class="vitrine-link">Voir le site</a>
						</div>
					</article>
				</div>
				<!-- Add more slides as needed -->
			</div>
			<!-- Add Pagination -->
			<div class="swiper-pagination"></div>
			<!-- Add Navigation -->
			<div class="swiper-button-prev"></div>
			<div class="swiper-button-next"></div>
		</div>
	</section>

	<section id="contact">
		<h2>Contactez-nous</h2>
		<p>
			Pour toute demande d'information ou devis, n'h√©sitez pas √† remplir le formulaire ci-dessous ou √† nous contacter directement via les options ci-dessous. Nous serons ravis de discuter de votre projet.
		</p>

		<form class="contact-form" netlify>
			<div class="form-group">
				<label for="name">Nom :</label>
				<input type="text" id="name" name="name" required />
			</div>
			<div class="form-group">
				<label for="email">Email :</label>
				<input type="email" id="email" name="email" required />
			</div>
			<div class="form-group">
				<label for="subject">Sujet :</label>
				<input type="text" id="subject" name="subject" required />
			</div>
			<div class="form-group">
				<label for="message">Message :</label>
				<textarea id="message" name="message" rows="5" required></textarea>
			</div>
			<button type="submit" class="submit-button">Envoyer le Message</button>
		</form>

		<div class="contact-buttons">
			<p>Ou contactez-nous directement :</p>
			<a href="tel:+33XXXXXXXXX" class="contact-button phone">
				<span class="icon">üìû</span> T√©l√©phone
			</a>
			<a href="https://discord.gg/YOUR_INVITE_CODE" target="_blank" rel="noopener noreferrer" class="contact-button discord">
				<span class="icon">üí¨</span> Discord
			</a>
			<a href="https://t.me/YOUR_USERNAME" target="_blank" rel="noopener noreferrer" class="contact-button telegram">
				<span class="icon">‚úàÔ∏è</span> Telegram
			</a>
		</div>
	</section>

</Layout>

<!-- Swiper Initialization Script (Client-Side Only) -->
<script>
  // Import Swiper and modules directly inside the client-side script
  import Swiper from 'swiper';
  // Import necessary modules
  import { Navigation, Pagination, EffectCoverflow } from 'swiper/modules';

  // Wait for the DOM to be fully loaded before initializing Swiper
  document.addEventListener('DOMContentLoaded', () => {
    const swiper = new Swiper('.vitrine-swiper', {
      // Use the imported modules
      modules: [Navigation, Pagination, EffectCoverflow], // Add EffectCoverflow

      // Core Swiper parameters
      effect: 'coverflow', // Set the effect to coverflow
      grabCursor: true, // Show grab cursor
      centeredSlides: true, // Center the active slide
      loop: true, // Enable continuous loop mode
      slidesPerView: 'auto', // Adjust based on content/container width (often best for coverflow)
      // slidesPerView: 1.5, // Alternative: Show 1 full and parts of adjacent slides

      // Coverflow effect parameters (adjust these values to fine-tune the effect)
      coverflowEffect: {
        rotate: 50,       // Slide rotation in degrees
        stretch: 0,       // Stretch space between slides (in px)
        depth: 100,       // Depth offset in px (lower means closer)
        modifier: 1,      // Effect multiplier (higher means more pronounced effect)
        slideShadows: true, // Enable slide shadows
      },

      // If we need pagination
      pagination: {
        el: '.swiper-pagination',
        clickable: true, // Allow clicking on dots to navigate
      },

      // Navigation arrows
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },

      // Responsive breakpoints (optional, coverflow often adapts well with 'auto')
      // breakpoints: {
      //   // when window width is >= 768px
      //   768: {
      //     slidesPerView: 2,
      //     // Adjust coverflowEffect for larger screens if needed
      //   },
      //   // when window width is >= 1024px
      //   1024: {
      //     slidesPerView: 3,
      //     // Adjust coverflowEffect for larger screens if needed
      //   }
      // }
    });
  });
</script>


<style>
	.tagline {
		text-align: center;
		font-style: italic;
		color: #c0c0c0;
		margin-bottom: 3rem;
	}

	/* Section Styling & Separators */
	section {
		margin-bottom: 3rem;
		padding: 2rem;
		border-bottom: none;
		position: relative;
		background-color: transparent;
		border-radius: 8px;
		transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
	}

	section:hover {
		background-color: rgba(35, 38, 45, 0.3);
		transform: translateY(-3px);
		box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
	}

	section:not(:last-of-type)::after {
		content: '';
		position: absolute;
		bottom: -1.5rem;
		left: 50%;
		transform: translateX(-50%);
		width: 80%;
		max-width: 500px;
		height: 2px;
		background: linear-gradient(to right, transparent, rgb(var(--accent)), transparent);
		opacity: 0.5;
		transition: opacity 0.3s ease;
	}

	section:hover::after {
		opacity: 0.3;
	}

	.section-image {
		display: block;
		max-width: 100%;
		height: auto;
		margin: 1.5rem auto;
		border-radius: 8px;
		opacity: 0.9;
	}

	/* Services Section CTA Styling */
	.cta-section h2 {
		text-align: center;
		margin-bottom: 1rem;
	}
	.services-intro {
		text-align: center;
		color: #d0d0d0;
		margin-bottom: 2.5rem;
		max-width: 60ch;
		margin-left: auto;
		margin-right: auto;
	}
	.service-cards {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
		gap: 1.5rem;
	}
	.service-card {
		background-color: #23262d;
		padding: 0;
		border-radius: 8px;
		display: flex;
		flex-direction: column;
		transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
		overflow: hidden;
	}
	.service-card:hover {
		transform: translateY(-5px);
		box-shadow: 0 8px 15px rgba(0, 0, 0, 0.3);
	}
	.service-card-image {
		width: 100%;
		height: 150px;
		object-fit: cover;
		display: block;
	}
	.service-card h3 {
		display: flex;
		align-items: center;
		gap: 0.7rem;
		margin-top: 0;
		color: rgb(var(--accent-light));
		padding: 1rem 1.5rem 0 1.5rem;
	}
	.service-card p {
		flex-grow: 1;
		margin-bottom: 1rem;
		color: #c0c0c0;
		padding: 0 1.5rem;
	}
	.service-card ul {
		font-size: 0.9em;
		margin-bottom: 1.5rem;
		padding: 0 1.5rem 0 2.7rem;
		flex-grow: 1;
	}
	.service-card li {
		margin-bottom: 0.4rem;
	}
	.cta-button {
		display: block;
		background-color: rgb(var(--accent));
		color: white;
		padding: 0.7rem 1.2rem;
		border-radius: 0;
		text-decoration: none;
		text-align: center;
		font-weight: bold;
		transition: background-color 0.2s ease;
		margin: 1.5rem 1.5rem 1.5rem 1.5rem;
		border-radius: 5px;
	}
	.cta-button:hover {
		background-color: rgb(var(--accent-dark));
	}

	.icon-repair::before,
	.icon-web::before,
	.icon-stream::before,
	.icon-ai::before {
		content: '‚öôÔ∏è';
		display: inline-block;
		font-size: 1.5em;
		color: rgb(var(--accent));
	}
	.icon-web::before { content: 'üåê'; }
	.icon-stream::before { content: 'üé¨'; }
	.icon-ai::before { content: 'üß†'; }

	/* Location/Map Section Styling */
	.map-section h2,
	.map-section p:first-of-type {
		text-align: center;
	}
	.map-container {
		margin-top: 1.5rem;
		text-align: center;
	}
	.map-container iframe {
		max-width: 100%;
		filter: grayscale(30%) contrast(90%);
		opacity: 0.9;
		border-radius: 8px;
	}
	.map-container small {
		display: block;
		margin-top: 0.5rem;
		font-size: 0.85em;
		color: #aaa;
	}
	.map-container small a {
		color: #ccc;
		text-decoration: underline;
	}
	.map-container small a:hover {
		color: white;
	}

	/* Vitrine Section Styling (Coverflow Carousel) */
	#vitrine h2 {
		text-align: center;
		margin-bottom: 1rem;
	}
	.vitrine-intro {
		text-align: center;
		color: #d0d0d0;
		margin-bottom: 2.5rem;
		max-width: 60ch;
		margin-left: auto;
		margin-right: auto;
	}
	/* Swiper Container */
	.vitrine-swiper {
		width: 100%;
		padding-top: 20px; /* Add padding for potential overlap/shadows */
		padding-bottom: 50px; /* Add padding for pagination and shadows */
		position: relative; /* Needed for absolute positioning of nav buttons */
	}
	/* Individual Slide */
	.swiper-slide {
		background-position: center;
		background-size: cover;
		/* Adjust width for coverflow effect, especially with slidesPerView: 'auto' */
		/* Let Swiper manage width based on 'auto', or set a fixed width */
		width: 60%; /* Example: Adjust as needed */
		max-width: 400px; /* Example: Max width for slides */
		/* height: auto; */ /* Allow height to adjust */

		/* Add some perspective for 3D effect if needed */
		/* perspective: 1000px; */

		/* Ensure content inside doesn't overflow weirdly */
		overflow: hidden;
		border-radius: 8px; /* Match item radius */
	}

	/* Make non-active slides slightly less opaque */
	.swiper-slide:not(.swiper-slide-active) {
		opacity: 0.7;
		/* transform: scale(0.9); */ /* Optional: slightly scale down non-active slides */
	}

	/* Vitrine Item within Slide */
	.swiper-slide .vitrine-item {
		background-color: #23262d;
		border-radius: 8px;
		overflow: hidden;
		display: flex;
		flex-direction: column;
		width: 100%; /* Item takes full width of the slide */
		/* Remove max-width here, control size via .swiper-slide width */
		/* max-width: 450px; */
		margin: 0 auto; /* Center item in slide */
		box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); /* Enhance shadow slightly */
		transition: transform 0.3s ease, box-shadow 0.3s ease; /* Add transition for potential hover effects */
		height: 100%; /* Ensure item fills slide height */
	}
	/* Optional: Add hover effect to the item itself */
	.swiper-slide:hover .vitrine-item {
		transform: scale(1.02);
		box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
	}

	.vitrine-image {
		width: 100%;
		height: 200px; /* Maintain image height */
		object-fit: cover;
		display: block;
		border-bottom: 3px solid rgb(var(--accent));
	}
	.vitrine-content {
		padding: 1.5rem;
		flex-grow: 1;
		display: flex;
		flex-direction: column;
		min-height: 150px; /* Ensure minimum content height */
	}
	.vitrine-content h3 {
		margin-top: 0;
		color: rgb(var(--accent-light));
		margin-bottom: 0.75rem;
	}
	.vitrine-content p {
		color: #c0c0c0;
		flex-grow: 1;
		margin-bottom: 1rem;
	}
	.vitrine-link {
		display: inline-block;
		background-color: transparent;
		color: rgb(var(--accent-light));
		padding: 0.5rem 0;
		border-radius: 4px;
		text-decoration: none;
		font-weight: bold;
		transition: color 0.2s ease, background-color 0.2s ease;
		margin-top: auto;
		border: 1px solid rgb(var(--accent));
		text-align: center;
		max-width: 150px;
	}
	.vitrine-link:hover {
		background-color: rgba(var(--accent), 0.2);
		color: white;
	}

	/* Swiper Navigation/Pagination Styling */
	.swiper-pagination-bullet {
		background-color: rgba(255, 255, 255, 0.5);
		opacity: 1;
	}
	.swiper-pagination-bullet-active {
		background-color: rgb(var(--accent));
	}
	.swiper-button-prev,
	.swiper-button-next {
		color: rgb(var(--accent));
		background-color: rgba(35, 38, 45, 0.5);
		border-radius: 50%;
		width: 40px;
		height: 40px;
		transition: background-color 0.2s ease;
		/* Position adjustments might be needed depending on the coverflow layout */
		top: 50%; /* Vertically center */
		transform: translateY(-50%); /* Adjust for exact centering */
	}
	.swiper-button-prev:hover,
	.swiper-button-next:hover {
		background-color: rgba(35, 38, 45, 0.8);
	}
	.swiper-button-prev::after,
	.swiper-button-next::after {
		font-size: 1.2rem;
		font-weight: bold;
	}
	/* Position arrows slightly outside */
	.swiper-button-prev {
		left: 10px; /* Adjust as needed */
	}
	.swiper-button-next {
		right: 10px; /* Adjust as needed */
	}


	/* Contact Form Styling */
	#contact h2 {
		text-align: center;
	}
	#contact > p:first-of-type {
		text-align: center;
		margin-bottom: 2rem;
	}
	.contact-form {
		background-color: #23262d;
		padding: 2rem;
		border-radius: 8px;
		max-width: 600px;
		margin: 0 auto 2rem auto;
		box-sizing: border-box;
		transition: box-shadow 0.3s ease;
	}
	.contact-form:hover {
		box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
	}

	.form-group {
		margin-bottom: 1.5rem;
	}
	.form-group label {
		display: block;
		margin-bottom: 0.5rem;
		color: #e0e0e0;
		font-weight: bold;
	}
	.form-group input,
	.form-group textarea {
		width: 100%;
		padding: 0.8rem;
		border: 1px solid #444;
		background-color: #1a1c22;
		color: white;
		border-radius: 4px;
		font-size: 1rem;
		box-sizing: border-box;
	}
	.form-group input:focus,
	.form-group textarea:focus {
		outline: none;
		border-color: rgb(var(--accent));
		box-shadow: 0 0 0 2px rgba(var(--accent), 0.5);
	}
	.submit-button {
		display: block;
		width: 100%;
		padding: 0.9rem 1.5rem;
		background-color: rgb(var(--accent));
		color: white;
		border: none;
		border-radius: 5px;
		font-size: 1.1rem;
		font-weight: bold;
		cursor: pointer;
		transition: background-color 0.2s ease;
	}
	.submit-button:hover {
		background-color: rgb(var(--accent-dark));
	}

	/* Contact Buttons Styling */
	.contact-buttons {
		text-align: center;
		margin-top: 2.5rem;
	}
	.contact-buttons p {
		margin-bottom: 1rem;
		color: #c0c0c0;
	}
	.contact-button {
		display: inline-flex;
		align-items: center;
		justify-content: center;
		gap: 0.6rem;
		background-color: #333;
		color: white;
		padding: 0.8rem 1.5rem;
		border-radius: 5px;
		text-decoration: none;
		font-weight: bold;
		margin: 0.5rem;
		transition: background-color 0.2s ease, transform 0.1s ease;
		border: 1px solid #555;
		min-width: 150px;
	}
	.contact-button:hover {
		background-color: #444;
		transform: translateY(-2px);
	}
	.contact-button .icon {
		font-size: 1.2em;
		display: inline-block;
	}
	.contact-button.phone { background-color: #4CAF50; border-color: #388E3C; }
	.contact-button.phone:hover { background-color: #66BB6A; }
	.contact-button.discord { background-color: #5865F2; border-color: #4650c1; }
	.contact-button.discord:hover { background-color: #707bf3; }
	.contact-button.telegram { background-color: #0088cc; border-color: #006da3; }
	.contact-button.telegram:hover { background-color: #33aadd; }

	/* Responsive adjustments */
	@media (max-width: 768px) {
		/* Adjust slide width for smaller screens if needed */
		.swiper-slide {
			width: 70%; /* Example: Wider slides on smaller screens */
		}
	}

	@media (max-width: 640px) {
		section {
			padding: 1.5rem;
		}

		/* Adjust slide width for smallest screens */
		.swiper-slide {
			width: 80%; /* Example: Even wider */
		}
		.vitrine-image {
			height: 180px;
		}
		.vitrine-content {
			padding: 1rem;
			min-height: 120px; /* Adjust min height */
		}
		.vitrine-link {
			max-width: none;
			width: 100%;
			padding: 0.7rem 1rem;
		}
		/* Adjust Swiper nav buttons for smaller screens */
		.swiper-button-prev,
		.swiper-button-next {
			width: 35px;
			height: 35px;
		}
		.swiper-button-prev::after,
		.swiper-button-next::after {
			font-size: 1rem;
		}
		.swiper-button-prev { left: 5px; }
		.swiper-button-next { right: 5px; }


		.contact-form {
			padding: 1.5rem;
		}

		.contact-buttons {
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 1rem;
		}

		.contact-button {
			width: 80%;
			max-width: 300px;
			margin: 0;
			padding: 0.9rem 1rem;
		}

		.map-container iframe {
			height: 250px;
		}
	}

</style>
